{% extends 'applausable/base.html' %}
{% load staticfiles %}

{% block title_block %}
Homepage
{% endblock %}

{% block body_block %}


<div class="jumbotron jumbotron-fluid p-4"> 
    <div class="container"> 
        <h4 class="jumbotron-heading"> 
            {% if user.is_authenticated %} 
                Welcome {{ user.username }}! 
            {% else %} 
            <a href="{% url 'applausable:signup' %}">Sign Up for Applausable</a>
            {% endif %}
        </h4> 
        <strong>{{ boldmessage }}</strong> 

        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <div class="card mb-6">
                        <div class="card-body">
                            <div class='container'>
                                <br />
                                <form action="{% url 'applausable:search_results' %}" method="GET" value="{{request.GET.q}}">
                                    Search <input type="text" name="q" value="{{request.GET.q}}" placeholder="Search posts" />
                                    <input type="submit" name="submit" value="Search" />
                                </form>


                                {% if submitbutton == 'Search' and request.GET.q != '' %}
                                {% if results %}
                                <h1>Results for <b>{{ request.GET.q }}</b></h1>
                                <br /><br />

                                {% for result in results %}

                                {{result.title}}
                                <br />

                                {{result.content}}
                                <br />

                                {% endfor %}
                                {% else %}
                                No search results for this query
                                {% endif %}
                                {% endif %}
                                {% if artists %}
                                {% for artist in artists %}
                                <li class="nav-item">
                                    <a class="nav-link active" href="{% url 'applausable:show_artist' artist.slug %}">
                                        {{ artist.artistName }}
                                    </a>
                                </li>
                                {% endfor %}
                                {% else %}
                                <li class="nav-item">There are no artists present.</li>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</div>

<!-- Page 225-226 of book has good bootstrap display for artists and songs when it comes to it-->

{% endblock %}